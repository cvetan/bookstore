<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <style type="text/css">
        #layout-menu_menu {
            z-index: 9997!important;
        }
        #layout-menu_menu span.ui-menuitem-text {
            margin-left: 2px;
        }

    </style>
    <ul class="nav navbar-nav">
        <li jsf:rendered="#{userSessionMB.user != null}">
            <p:link href="/cart.xhtml">
                <span class="fa fa-shopping-cart"></span>
                #{label.shoppingCart}
            </p:link>
        </li>
        
        <li jsf:rendered="#{userSessionMB.user != null}">
            <p:link href="/new-address.xhtml">
                <span class="fa fa-location-arrow"></span>
                #{label.newAddress}
            </p:link>
        </li>
        
        <li class="dropdown user user-menu" jsf:rendered="#{userSessionMB.user != null}">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                <span class="fa fa-user"></span>
                <span class="hidden-xs">#{userSessionMB.user.name}</span>
            </a>
            <ul class="dropdown-menu">
                <li class="user-header">
                    <div class="hidden-xs">
                        <pe:gravatar value="#{userSessionMB.user.email}"/>
                    </div>
                    <p>
                        #{userSessionMB.user.name}
                    </p>
                </li>
                <li class="user-footer">
                    <h:form prependId="false">
                        <div class="pull-left">
                            <p:commandButton
                                value="#{label.editProfile}"
                                ajax="false"
                                action="#{adminSessionMB.editProfile()}"
                                styleClass="btn btn-flat btn-success"
                                icon="fa fa-user-md"/>
                        </div>
                        <div class="pull-right">
                            <p:commandButton
                                value="#{label.logout}"
                                ajax="false"
                                action="#{userSessionMB.logout()}"
                                icon="fa fa-sign-out"
                                styleClass="btn btn-danger btn-flat"/>
                        </div>
                    </h:form>
                </li>
            </ul>
        </li>
        
        <li jsf:rendered="#{userSessionMB.user == null}">
            <p:link href="/registration.xhtml">#{label.register}</p:link>
        </li>
        
        <li jsf:rendered="#{userSessionMB.user == null}">
            <p:link href="/user-login.xhtml">#{label.login}</p:link>
        </li>
    </ul>

</ui:composition>